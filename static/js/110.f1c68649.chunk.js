"use strict";(self.webpackChunkfoodies_app=self.webpackChunkfoodies_app||[]).push([[110],{5704:(e,t,r)=>{r.d(t,{A:()=>d});r(5043);var s=r(5475);const i="PathInfo_path-info__oV2qx",a="PathInfo_home-link__KCe5g",n="PathInfo_current-page__N-cAI";var l=r(579);const d=e=>{let{currentPage:t}=e;return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)(s.N_,{to:"/",className:a,children:"Home"}),(0,l.jsx)("span",{className:n,children:t})]})}},573:(e,t,r)=>{r.d(t,{A:()=>l});var s=r(2951),i=r(5043);const a={control:(e,t)=>{let{isFocused:r,isSelected:s}=t;return{...e,display:"flex",alignItems:"center",borderRadius:"30px",border:r||s?"1px solid var(--color-button)":"1px solid var(--color-gray)",boxShadow:r?"0 0 0 1px var(--color-main)":null,":hover":{border:"1px solid var(--color-button)"},":active":{border:"1px solid var(--color-button)"},padding:"0 14px","@media (min-width: 375px)":{width:"343px"},"@media (min-width: 765px)":{width:"315px",height:"56px",padding:"0 18px"}}},menu:e=>({...e,padding:"16px 18px",borderRadius:"15px",border:"1px solid var(--color-button)",fontSize:"16px",fontWeight:"500",lineHeight:"calc(24 / 16)",letterSpacing:"-0.32px","@media (min-width: 375px)":{width:"343px"},"@media (min-width: 765px)":{width:"315px"}}),placeholder:e=>({...e,fontSize:"14px",fontWeight:"500",lineHeight:"calc(20 / 14)",letterSpacing:"-0.28px",color:"var(--color-button)","@media (min-width: 1440px)":{fontSize:"16px"}}),indicatorSeparator:e=>({...e,display:"none"}),dropdownIndicator:e=>({...e,color:"var(--color-main)",paddigRight:"14px",svg:{width:"18px",height:"18px"}}),valueContainer:e=>({...e,padding:"10px 0px"}),option:(e,t)=>{let{isFocused:r,isSelected:s}=t;return{...e,color:r?"var(--color-button)":"var(--color-main)",backgroundColor:r?"var(--color-gray)":"var(--color-white)"}}};var n=r(579);const l=i.forwardRef(((e,t)=>{let{options:r,placeholder:i,className:l,onChange:d,value:c}=e;return(0,n.jsx)(s.Ay,{ref:t,options:r,placeholder:i,className:l,onChange:d,value:c,styles:a})}))},2393:(e,t,r)=>{r.d(t,{A:()=>l});const s="MainTitle_mainTitle__Ubri6";var i=r(8139),a=r.n(i),n=r(579);const l=e=>{let{text:t,addStyle:r=""}=e;return(0,n.jsx)("h2",{className:a()(s,r),children:t})}},110:(e,t,r)=>{r.r(t),r.d(t,{default:()=>be});var s=r(5043),i=r(4858),a=r(3003),n=r(3216),l=r(8403),d=r(899);const c=d.Ik().shape({title:d.Yj().required("Title is required"),description:d.Yj().max(200,"Description must be at most 200 characters").required("Description is required"),category:d.Yj().required("Category is required"),area:d.Yj().required("Area is required"),instructions:d.Yj().max(2e3,"Description must be at most 200 characters").required("Instructions are required")});var o=r(3401);const p="AddRecipe_container__MXRyR",m="AddRecipe_subheadear__htmbk",_="AddRecipe_breaCrumbs__6Vxj0",u="AddRecipe_titleWrapper__aMOsI",h="AddRecipe_titleAndCrumpsWraper__tdBgO",g="AddRecipe_formWrapper__VOF4R",x="AddRecipe_form__48KRn",j="AddRecipe_nameInput__4BFoC",b="AddRecipe_nameInputWrapper__uRr6z",v="AddRecipe_errorTitle__biWLJ",y="AddRecipe_errorMsg__dbUk2",I="AddRecipe_textareaWrapper__pyJg4",N="AddRecipe_textarea__5bXtw",f="AddRecipe_labelPrep__vNqBZ",A="AddRecipe_symbolCounter__-8FLS",S="AddRecipe_recipeData__HhydR",R="AddRecipe_recipeIncstructions__sel6g",w="AddRecipe_buttonWrapper__-8Mcg",C="AddRecipe_button__XU+1b",M="AddRecipe_trashBtn__Nc7lI",W="AddRecipe_iconTrash__3S9Br",$="AddRecipe_categoryAndTime__MJg1T";var q=r(5704),U=r(2393);const k="Subtitle_subtitleWrapper__3gxWq",T="Subtitle_subtitle__NxZQo";var B=r(579);const E=e=>{let{text:t}=e;return(0,B.jsx)("div",{className:k,children:(0,B.jsx)("p",{className:T,children:t})})};var P=r(9824);const V="Input_input__-cOhf",F="Input_container__MNIpG",L="Input_btn__yCTgT",Y="Input_notEmpty__tc4eM";var z=r(8139),H=r.n(z);const Q=e=>{let{register:t,placeholder:r,iconId:s,type:i,togglePasswordVisibility:a,notEmpty:n,width:l,classname:d,name:c,id:o}=e;return s?(0,B.jsxs)("div",{className:F,children:[(0,B.jsx)("input",{id:o,className:H()(V,d,`${n?Y:""}`),placeholder:r,type:i,name:c,...t(c)}),s&&(0,B.jsx)("button",{className:L,onClick:()=>{a()},type:"button",children:(0,B.jsx)(P.A,{iconId:s,width:l,height:l})})]}):(0,B.jsx)("input",{id:o,className:H()(V,d,`${n?Y:""}`),placeholder:r,type:i,name:c,...t(c,{required:!0})})},J="ImageUploader_errorMsg__Wl1e4",O="ImageUploader_wrapper__x7hLw",D="ImageUploader_uploadBox__0r45p",G="ImageUploader_uploadAnotherSpan__UW+bZ",K="ImageUploader_customUploadBtn__o+H92",Z="ImageUploader_imagePreview__6M+RF",X="ImageUploader_btnWrapper__5z1z7",ee="ImageUploader_photoIcon__wjAJa",te=e=>{let{register:t,setValue:r,imagePreview:i,setImagePreview:a,errors:n,watch:l}=e;return(0,s.useEffect)((()=>{const e=l((e=>{e.thumb&&e.thumb[0]&&(a(URL.createObjectURL(e.thumb[0])),r("thumb",e.thumb[0]))}));return()=>e.unsubscribe()}),[l,a,r]),(0,B.jsxs)("div",{className:O,children:[(0,B.jsx)("div",{className:D,children:(0,B.jsxs)("label",{className:K,children:[(0,B.jsx)(Q,{type:"file",name:"thumb",register:t,setValue:r,errors:n}),i&&(0,B.jsx)("img",{src:i,alt:"Recipe Preview",className:Z}),(0,B.jsxs)("div",{className:X,children:[!i&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(P.A,{iconId:"icon-capture-photo-camera",width:"50px",height:"50",customStyle:ee}),(0,B.jsx)("span",{children:"Upload a photo"})]}),n.thumb&&(0,B.jsx)("p",{className:J,children:n.thumb.message})]})]})}),i&&(0,B.jsxs)("label",{className:G,children:[(0,B.jsx)(Q,{type:"file",name:"thumb",register:t,setValue:r,errors:n}),"Upload another photo"]})]})};var re=r(573),se=r(6286),ie=r(3264);const ae="TimeCounter_iconBtn__EBq5d",ne="TimeCounter_icon__j8uF7",le=e=>{let{time:t=10,setTime:r}=e;return(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{children:"Cooking Time"}),(0,B.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,B.jsx)(ie.A,{iconId:"icon-minus",width:"16",height:"16",type:"button",style:ae,styleSVG:ne,onClick:()=>{r((e=>e>10?e-10:10))}}),(0,B.jsx)("div",{children:(0,B.jsxs)("span",{style:{margin:"0 12px"},children:[t," min"]})}),(0,B.jsx)(ie.A,{iconId:"icon-plus",type:"button",width:"16",height:"16",style:ae,styleSVG:ne,onClick:()=>{r((e=>e+10))}})]})]})},de={container:"IngredientSelector_container__B6CMy",errorMsg:"IngredientSelector_errorMsg__R4bOL",selectors_time_wrapp:"IngredientSelector_selectors_time_wrapp__hkubK",textareaWrapper:"IngredientSelector_textareaWrapper__IYCgN",symbolCounter:"IngredientSelector_symbolCounter__ZDcjt",textarea:"IngredientSelector_textarea__l6iYB",inputQuantity:"IngredientSelector_inputQuantity__9LmIr",buttonAdd:"IngredientSelector_buttonAdd__t31DN",addBtnIcon:"IngredientSelector_addBtnIcon__r-Q5N",icon:"IngredientSelector_icon__jjugO",list:"IngredientSelector_list__SvCGz",listItem:"IngredientSelector_listItem__0rPFF",imageWrapper:"IngredientSelector_imageWrapper__UNkqR",image:"IngredientSelector_image__mYKHr",iconBtn:"IngredientSelector_iconBtn__74Y9I",textWrapper:"IngredientSelector_textWrapper__jNGn9",ingredientAndQuantity:"IngredientSelector_ingredientAndQuantity__as7H5",ingredientMeasure:"IngredientSelector_ingredientMeasure__NyxkX"},ce={form__group:"CustomInput_form__group__53aAY",form__field:"CustomInput_form__field__7zK+6",form__label:"CustomInput_form__label__J+c5f"},oe=e=>{var t;let{register:r,ingredients:i,categories:a,areas:n,time:l,setTime:d,setValue:c,watch:o,selectedIngredients:p,setSelectedIngredients:m,errors:_}=e;const[u,h]=(0,s.useState)(!1),g=o("ingredient"),x=o("measure");return(0,B.jsxs)("div",{className:de.container,children:[(0,B.jsxs)("div",{className:`${ce.form__group} ${ce.field}`,children:[(0,B.jsx)("textarea",{...r("description"),name:"description",maxLength:"200",placeholder:"Enter the description of the dish",id:"description",className:`${ce.form__field} ${de.textarea}`,required:!0}),(0,B.jsx)("label",{htmlFor:"description",className:ce.form__label,children:"Enter the description of the dish"}),(0,B.jsxs)("span",{className:de.symbolCounter,children:[(null===(t=o("description"))||void 0===t?void 0:t.length)||0,"/200"]})]}),_.description&&(0,B.jsx)("p",{className:de.errorMsg,children:_.description.message}),(0,B.jsxs)("div",{className:de.selectors_time_wrapp,children:[(0,B.jsx)("div",{className:de.categoryAndTime,children:(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{children:"Category"}),(0,B.jsx)(re.A,{...r("category"),options:a,placeholder:"Select a category",onChange:e=>c("category",e.value)}),_.category&&(0,B.jsx)("p",{className:de.errorMsg,children:_.category.message})]})}),(0,B.jsxs)("div",{children:[(0,B.jsx)(le,{time:l,setTime:d}),_.time&&(0,B.jsx)("p",{className:de.errorMsg,children:_.time.message})]})]}),(0,B.jsx)("div",{className:de.area,children:(0,B.jsx)("div",{className:de.area,children:(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{children:"Area"}),(0,B.jsx)(re.A,{...r("area"),options:n,placeholder:"Select an area",onChange:e=>c("area",e.value)}),_.area&&(0,B.jsx)("p",{className:de.errorMsg,children:_.area.message})]})})}),(0,B.jsxs)("div",{className:de.ingredientAndQuantity,children:[(0,B.jsxs)("div",{children:[(0,B.jsx)("label",{children:"Ingredient"}),(0,B.jsx)(re.A,{...r("ingredient"),options:i,placeholder:"Add the ingredient",className:de.select,onChange:e=>c("ingredient",e)}),_.ingredient&&(0,B.jsx)("p",{className:de.errorMsg,children:_.ingredient.message})]}),(0,B.jsxs)("div",{className:`${ce.form__group} ${ce.field}`,children:[(0,B.jsx)(Q,{register:r,type:"text",name:"measure",id:"measure",placeholder:"Enter quantity",classname:`${de.inputQuantity} ${ce.form__field}`}),(0,B.jsx)("label",{className:ce.form__label,htmlFor:"measure",children:"Enter quantity"}),_.measure&&(0,B.jsx)("p",{className:de.errorMsg,children:_.measure.message})]})]}),(0,B.jsx)(se.A,{text:"Add ingredient",type:"button",onClick:()=>{g&&x&&(m([...p,{id:g.value,measure:x,imageUrl:g.img,label:g.label}]),c("ingredient",null),c("measure",""),h(!0))},iconId:"icon-plus",iconStyle:de.addBtnIcon,classname:de.buttonAdd}),u&&(0,B.jsx)("ul",{className:de.list,children:p.map(((e,t)=>(0,B.jsxs)("li",{className:de.listItem,children:[(0,B.jsx)("div",{className:de.imageWrapper,children:(0,B.jsx)("img",{src:e.imageUrl,alt:e.label,width:"55px",height:"55px",className:de.image})}),(0,B.jsxs)("div",{className:de.textWrapper,children:[(0,B.jsx)("p",{children:e.label}),(0,B.jsx)("p",{className:de.ingredientMeasure,children:e.measure})]}),(0,B.jsx)(ie.A,{iconId:"icon-close-btn",type:"button",onClick:()=>(e=>{m(p.filter(((t,r)=>r!==e))),p.length<=1&&h(!1)})(t),style:de.iconBtn})]},t)))})]})},pe=e=>{(0,s.useEffect)((()=>{const t=document.querySelector(`.${e}`),r=e=>{t.style.height="36px",t.style.height=`${e.target.scrollHeight}px`};return t.addEventListener("input",r),()=>{t.removeEventListener("input",r)}}),[e])};var me=r(2932),_e=r(6990),ue=r(5666),he=r(7008),ge=r(2614),xe=r(8572),je=r(2524);const be=()=>{const{register:e,setValue:t,watch:r,formState:{errors:d},reset:k,handleSubmit:T}=(0,i.mN)({resolver:(0,l.t)(c),defaultValues:{selectedIngredients:[]}}),P=(0,n.Zp)(),[V,F]=(0,s.useState)(10),[L,Y]=(0,s.useState)(0),z=200,[H,J]=(0,s.useState)(null),O=(0,a.wA)(),D=(0,a.d4)(me.J);(0,s.useEffect)((()=>{O((0,_e.j)())}),[O]);const G=D.map((e=>({value:e.id,label:e.name}))),K=(0,a.d4)(ue.v);(0,s.useEffect)((()=>{O((0,he.L)())}),[O]);const Z=K.map((e=>({value:e.id,label:e.name,img:e.img}))),X=(0,a.d4)(ge.d);(0,s.useEffect)((()=>{O((0,xe.R)())}),[O]);const ee=X.map((e=>({value:e.id,label:e.name})));pe(N);const[re,ae]=(0,s.useState)([]);return(0,B.jsxs)("div",{className:p,children:[(0,B.jsxs)("div",{className:h,children:[(0,B.jsx)("div",{className:_,children:(0,B.jsx)(q.A,{currentPage:"Add Recipe"})}),(0,B.jsxs)("div",{className:u,children:[(0,B.jsx)(U.A,{text:"add recipe"}),(0,B.jsx)(E,{text:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]})]}),(0,B.jsx)("form",{onSubmit:T((async e=>{try{const t=await O((0,je.zs)({title:e.title,instructions:e.instructions,description:e.description,time:V.toString(),categoryId:e.category,areaId:e.area,thumb:e.thumb,ingredients:re.map((e=>({id:e.id,measure:e.measure})))}));if(t.payload&&t.payload.title){const e=t.payload.title;o.oR.success(`Recipe added: ${e}`),P(`/user/${t.payload.user.id}`),k()}else o.oR.error("Failed to create recipe: No payload in response")}catch(t){o.oR.error(`Error creating recipe: ${t}`)}})),className:x,children:(0,B.jsxs)("div",{className:g,children:[(0,B.jsx)(te,{register:e,setValue:t,imagePreview:H,setImagePreview:J,watch:r,errors:d}),(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:b,children:[(0,B.jsx)(Q,{register:e,type:"text",name:"title",placeholder:"The name of the recipe",classname:j}),d.title&&(0,B.jsx)("p",{className:v,children:d.title.message})]}),(0,B.jsx)("div",{className:S,children:(0,B.jsx)("div",{className:$,children:(0,B.jsxs)("div",{className:S,children:[(0,B.jsx)(oe,{register:e,ingredients:Z,categories:G,areas:ee,time:V,setTime:F,setValue:t,selectedIngredients:re,setSelectedIngredients:ae,watch:r,errors:d}),d.selectedIngredients&&(0,B.jsx)("p",{className:y,children:d.selectedIngredients.message})]})})}),(0,B.jsxs)("div",{className:R,children:[(0,B.jsx)("h2",{className:m,children:"Recipe preparation"}),(0,B.jsxs)("div",{className:`${I} ${ce.form__group} ${ce.field}`,children:[(0,B.jsx)("textarea",{...e("instructions"),onInput:e=>{const t=e.target.value.trim().split(/\s+/).filter((e=>e.length>0));if(t.length<=z)Y(t.length);else{const r=t.slice(0,z).join(" ");e.target.value=r,Y(z),o.oR.error("max length 200 words")}},id:"instructions",name:"instructions",placeholder:"Enter recipe",maxLength:"none",className:`${N} ${ce.form__field}`}),(0,B.jsx)("label",{className:`${f} ${ce.form__label}`,children:"Enter recipe"}),(0,B.jsxs)("span",{className:A,children:[L,"/",z]}),d.instructions&&(0,B.jsx)("p",{className:y,children:d.instructions.message})]})]}),(0,B.jsxs)("div",{className:w,children:[(0,B.jsx)(ie.A,{iconId:"icon-trash",type:"button",onClick:()=>{k(),F(10),J(null),ae([])},width:"20",height:"20",style:M,styleSVG:W}),(0,B.jsx)(se.A,{text:"Publish",type:"submit",className:C})]})]})]})})]})}},2614:(e,t,r)=>{r.d(t,{d:()=>s});const s=e=>e.areas.areas},2932:(e,t,r)=>{r.d(t,{J:()=>s});const s=e=>e.categories.categories},5666:(e,t,r)=>{r.d(t,{v:()=>s});const s=e=>e.ingredients.ingredients}}]);
//# sourceMappingURL=110.f1c68649.chunk.js.map