"use strict";(self.webpackChunkfoodies_app=self.webpackChunkfoodies_app||[]).push([[110],{5704:(e,r,t)=>{t.d(r,{A:()=>c});t(5043);var s=t(5475);const i="PathInfo_path-info__oV2qx",a="PathInfo_home-link__KCe5g",n="PathInfo_current-page__N-cAI";var l=t(579);const c=e=>{let{currentPage:r}=e;return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)(s.N_,{to:"/",className:a,children:"Home"}),(0,l.jsx)("span",{className:n,children:r})]})}},573:(e,r,t)=>{t.d(r,{A:()=>l});var s=t(2951),i=t(5043);const a={control:(e,r)=>{let{isFocused:t,isSelected:s}=r;return{...e,display:"flex",alignItems:"center",borderRadius:"30px",border:t||s?"1px solid var(--color-button)":"1px solid var(--color-gray)",boxShadow:t?"0 0 0 1px var(--color-main)":null,":hover":{border:"1px solid var(--color-button)"},":active":{border:"1px solid var(--color-button)"},padding:"0 14px","@media (min-width: 375px)":{width:"343px"},"@media (min-width: 765px)":{width:"315px",height:"56px",padding:"0 18px"}}},menu:e=>({...e,padding:"16px 18px",borderRadius:"15px",border:"1px solid var(--color-button)",fontSize:"16px",fontWeight:"500",lineHeight:"calc(24 / 16)",letterSpacing:"-0.32px","@media (min-width: 375px)":{width:"343px"},"@media (min-width: 765px)":{width:"315px"}}),placeholder:e=>({...e,fontSize:"14px",fontWeight:"500",lineHeight:"calc(20 / 14)",letterSpacing:"-0.28px",color:"var(--color-button)","@media (min-width: 1440px)":{fontSize:"16px"}}),indicatorSeparator:e=>({...e,display:"none"}),dropdownIndicator:e=>({...e,color:"var(--color-main)",paddigRight:"14px",svg:{width:"18px",height:"18px"}}),valueContainer:e=>({...e,padding:"10px 0px"}),option:(e,r)=>{let{isFocused:t,isSelected:s}=r;return{...e,color:t?"var(--color-button)":"var(--color-main)",backgroundColor:t?"var(--color-gray)":"var(--color-white)"}}};var n=t(579);const l=i.forwardRef(((e,r)=>{let{options:t,placeholder:i,className:l,onChange:c,value:d}=e;return(0,n.jsx)(s.Ay,{ref:r,options:t,placeholder:i,className:l,onChange:c,value:d,styles:a})}))},2393:(e,r,t)=>{t.d(r,{A:()=>l});const s="MainTitle_mainTitle__Ubri6";var i=t(8139),a=t.n(i),n=t(579);const l=e=>{let{text:r,addStyle:t=""}=e;return(0,n.jsx)("h2",{className:a()(s,t),children:r})}},110:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ye});var s=t(5043),i=t(4858),a=t(3003),n=t(3216),l=t(8403),c=t(899);const d=c.Ik().shape({title:c.Yj().required("Title is required"),description:c.Yj().max(200,"Description must be at most 200 characters").required("Description is required"),category:c.Yj().required("Category is required"),area:c.Yj().required("Area is required"),instructions:c.Yj().max(2e3,"Description must be at most 200 characters").required("Instructions are required")});var o=t(3401);const p="AddRecipe_container__MXRyR",m="AddRecipe_subheadear__htmbk",_="AddRecipe_breaCrumbs__6Vxj0",u="AddRecipe_titleWrapper__aMOsI",h="AddRecipe_titleAndCrumpsWraper__tdBgO",g="AddRecipe_formWrapper__VOF4R",x="AddRecipe_form__48KRn",j="AddRecipe_nameInput__4BFoC",v="AddRecipe_nameInputWrapper__uRr6z",b="AddRecipe_errorTitle__biWLJ",y="AddRecipe_errorMsg__dbUk2",N="AddRecipe_textareaWrapper__pyJg4",I="AddRecipe_textarea__5bXtw",f="AddRecipe_labelPrep__vNqBZ",A="AddRecipe_symbolCounter__-8FLS",S="AddRecipe_recipeData__HhydR",R="AddRecipe_recipeIncstructions__sel6g",w="AddRecipe_buttonWrapper__-8Mcg",C="AddRecipe_button__XU+1b",M="AddRecipe_trashBtn__Nc7lI",W="AddRecipe_iconTrash__3S9Br",$="AddRecipe_categoryAndTime__MJg1T";var q=t(5704),U=t(2393);const k="Subtitle_subtitleWrapper__3gxWq",B="Subtitle_subtitle__NxZQo";var E=t(579);const T=e=>{let{text:r}=e;return(0,E.jsx)("div",{className:k,children:(0,E.jsx)("p",{className:B,children:r})})};var F=t(9824);const V="Input_input__-cOhf",L="Input_container__MNIpG",P="Input_btn__yCTgT",z="Input_notEmpty__tc4eM";var Y=t(8139),H=t.n(Y);const Q=e=>{let{register:r,placeholder:t,iconId:s,type:i,togglePasswordVisibility:a,notEmpty:n,width:l,classname:c,name:d,id:o}=e;return s?(0,E.jsxs)("div",{className:L,children:[(0,E.jsx)("input",{id:o,className:H()(V,c,`${n?z:""}`),placeholder:t,type:i,name:d,...r(d)}),s&&(0,E.jsx)("button",{className:P,onClick:()=>{a()},type:"button",children:(0,E.jsx)(F.A,{iconId:s,width:l,height:l})})]}):(0,E.jsx)("input",{id:o,className:H()(V,c,`${n?z:""}`),placeholder:t,type:i,name:d,...r(d,{required:!0})})},J="ImageUploader_errorMsg__Wl1e4",O="ImageUploader_wrapper__x7hLw",D="ImageUploader_uploadBox__0r45p",G="ImageUploader_uploadAnotherSpan__UW+bZ",K="ImageUploader_customUploadBtn__o+H92",Z="ImageUploader_imagePreview__6M+RF",X="ImageUploader_btnWrapper__5z1z7",ee="ImageUploader_photoIcon__wjAJa",re=e=>{let{register:r,setValue:t,imagePreview:i,setImagePreview:a,errors:n,watch:l}=e;return(0,s.useEffect)((()=>{const e=l((e=>{e.thumb&&e.thumb[0]&&(a(URL.createObjectURL(e.thumb[0])),t("thumb",e.thumb[0]))}));return()=>e.unsubscribe()}),[l,a,t]),(0,E.jsxs)("div",{className:O,children:[(0,E.jsx)("div",{className:D,children:(0,E.jsxs)("label",{className:K,children:[(0,E.jsx)(Q,{type:"file",name:"thumb",register:r,setValue:t,errors:n}),i&&(0,E.jsx)("img",{src:i,alt:"Recipe Preview",className:Z}),(0,E.jsxs)("div",{className:X,children:[!i&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(F.A,{iconId:"icon-capture-photo-camera",width:"50px",height:"50",customStyle:ee}),(0,E.jsx)("span",{children:"Upload a photo"})]}),n.thumb&&(0,E.jsx)("p",{className:J,children:n.thumb.message})]})]})}),i&&(0,E.jsxs)("label",{className:G,children:[(0,E.jsx)(Q,{type:"file",name:"thumb",register:r,setValue:t,errors:n}),"Upload another photo"]})]})};var te=t(573),se=t(6286),ie=t(3264);const ae="TimeCounter_iconBtn__EBq5d",ne="TimeCounter_icon__j8uF7",le=e=>{let{time:r=10,setTime:t}=e;return(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{children:"Cooking Time"}),(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,E.jsx)(ie.A,{iconId:"icon-minus",width:"16",height:"16",type:"button",style:ae,styleSVG:ne,onClick:()=>{t((e=>e>10?e-10:10))}}),(0,E.jsx)("div",{children:(0,E.jsxs)("span",{style:{margin:"0 12px"},children:[r," min"]})}),(0,E.jsx)(ie.A,{iconId:"icon-plus",type:"button",width:"16",height:"16",style:ae,styleSVG:ne,onClick:()=>{t((e=>e+10))}})]})]})},ce={container:"IngredientSelector_container__B6CMy",errorMsg:"IngredientSelector_errorMsg__R4bOL",selectors_time_wrapp:"IngredientSelector_selectors_time_wrapp__hkubK",textareaWrapper:"IngredientSelector_textareaWrapper__IYCgN",symbolCounter:"IngredientSelector_symbolCounter__ZDcjt",textarea:"IngredientSelector_textarea__l6iYB",inputQuantity:"IngredientSelector_inputQuantity__9LmIr",buttonAdd:"IngredientSelector_buttonAdd__t31DN",addBtnIcon:"IngredientSelector_addBtnIcon__r-Q5N",icon:"IngredientSelector_icon__jjugO",list:"IngredientSelector_list__SvCGz",listItem:"IngredientSelector_listItem__0rPFF",imageWrapper:"IngredientSelector_imageWrapper__UNkqR",image:"IngredientSelector_image__mYKHr",iconBtn:"IngredientSelector_iconBtn__74Y9I",textWrapper:"IngredientSelector_textWrapper__jNGn9",ingredientAndQuantity:"IngredientSelector_ingredientAndQuantity__as7H5",ingredientMeasure:"IngredientSelector_ingredientMeasure__NyxkX"},de={form__group:"CustomInput_form__group__53aAY",form__field:"CustomInput_form__field__7zK+6",form__label:"CustomInput_form__label__J+c5f"},oe=e=>{var r;let{register:t,ingredients:i,categories:a,areas:n,time:l,setTime:c,setValue:d,watch:o,selectedIngredients:p,setSelectedIngredients:m,errors:_}=e;const[u,h]=(0,s.useState)(!1),g=o("ingredient"),x=o("measure");return(0,E.jsxs)("div",{className:ce.container,children:[(0,E.jsxs)("div",{className:`${de.form__group} ${de.field}`,children:[(0,E.jsx)("textarea",{...t("description"),name:"description",maxLength:"200",placeholder:"Enter the description of the dish",id:"description",className:`${de.form__field} ${ce.textarea}`,required:!0}),(0,E.jsx)("label",{htmlFor:"description",className:de.form__label,children:"Enter the description of the dish"}),(0,E.jsxs)("span",{className:ce.symbolCounter,children:[(null===(r=o("description"))||void 0===r?void 0:r.length)||0,"/200"]})]}),_.description&&(0,E.jsx)("p",{className:ce.errorMsg,children:_.description.message}),(0,E.jsxs)("div",{className:ce.selectors_time_wrapp,children:[(0,E.jsx)("div",{className:ce.categoryAndTime,children:(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{children:"Category"}),(0,E.jsx)(te.A,{...t("category"),options:a,placeholder:"Select a category",onChange:e=>d("category",e.value)}),_.category&&(0,E.jsx)("p",{className:ce.errorMsg,children:_.category.message})]})}),(0,E.jsxs)("div",{children:[(0,E.jsx)(le,{time:l,setTime:c}),_.time&&(0,E.jsx)("p",{className:ce.errorMsg,children:_.time.message})]})]}),(0,E.jsx)("div",{className:ce.area,children:(0,E.jsx)("div",{className:ce.area,children:(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{children:"Area"}),(0,E.jsx)(te.A,{...t("area"),options:n,placeholder:"Select an area",onChange:e=>d("area",e.value)}),_.area&&(0,E.jsx)("p",{className:ce.errorMsg,children:_.area.message})]})})}),(0,E.jsxs)("div",{className:ce.ingredientAndQuantity,children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("label",{children:"Ingredient"}),(0,E.jsx)(te.A,{...t("ingredient"),options:i,placeholder:"Add the ingredient",className:ce.select,onChange:e=>d("ingredient",e)}),_.ingredient&&(0,E.jsx)("p",{className:ce.errorMsg,children:_.ingredient.message})]}),(0,E.jsxs)("div",{className:`${de.form__group} ${de.field}`,children:[(0,E.jsx)(Q,{register:t,type:"text",name:"measure",id:"measure",placeholder:"Enter quantity",classname:`${ce.inputQuantity} ${de.form__field}`}),(0,E.jsx)("label",{className:de.form__label,htmlFor:"measure",children:"Enter quantity"}),_.measure&&(0,E.jsx)("p",{className:ce.errorMsg,children:_.measure.message})]})]}),(0,E.jsx)(se.A,{text:"Add ingredient",type:"button",onClick:()=>{g&&x&&(m([...p,{id:g.value,measure:x,imageUrl:g.img,label:g.label}]),d("ingredient",null),d("measure",""),h(!0))},iconId:"icon-plus",iconStyle:ce.addBtnIcon,classname:ce.buttonAdd}),u&&(0,E.jsx)("ul",{className:ce.list,children:p.map(((e,r)=>(0,E.jsxs)("li",{className:ce.listItem,children:[(0,E.jsx)("div",{className:ce.imageWrapper,children:(0,E.jsx)("img",{src:e.imageUrl,alt:e.label,width:"55px",height:"55px",className:ce.image})}),(0,E.jsxs)("div",{className:ce.textWrapper,children:[(0,E.jsx)("p",{children:e.label}),(0,E.jsx)("p",{className:ce.ingredientMeasure,children:e.measure})]}),(0,E.jsx)(ie.A,{iconId:"icon-close-btn",type:"button",onClick:()=>(e=>{m(p.filter(((r,t)=>t!==e))),p.length<=1&&h(!1)})(r),style:ce.iconBtn})]},r)))})]})},pe=e=>{(0,s.useEffect)((()=>{const r=document.querySelector(`.${e}`),t=e=>{r.style.height="36px",r.style.height=`${e.target.scrollHeight}px`};return r.addEventListener("input",t),()=>{r.removeEventListener("input",t)}}),[e])};var me=t(2932),_e=t(6990),ue=t(5666),he=t(7008),ge=t(2614),xe=t(8572),je=t(2524),ve=t(7606),be=t(1544);const ye=()=>{const{register:e,setValue:r,watch:t,formState:{errors:c},reset:k,handleSubmit:B}=(0,i.mN)({resolver:(0,l.t)(d),defaultValues:{selectedIngredients:[]}}),F=(0,n.Zp)(),[V,L]=(0,s.useState)(10),[P,z]=(0,s.useState)(0),Y=200,[H,J]=(0,s.useState)(null),O=(0,a.wA)(),D=(0,a.d4)(ve.hS),G=(0,a.d4)(me.J);(0,s.useEffect)((()=>{O((0,_e.j)())}),[O]);const K=G.map((e=>({value:e.id,label:e.name}))),Z=(0,a.d4)(ue.v);(0,s.useEffect)((()=>{O((0,he.L)())}),[O]);const X=Z.map((e=>({value:e.id,label:e.name,img:e.img}))),ee=(0,a.d4)(ge.d);(0,s.useEffect)((()=>{O((0,xe.R)())}),[O]);const te=ee.map((e=>({value:e.id,label:e.name})));pe(I);const[ae,ne]=(0,s.useState)([]);return(0,E.jsxs)("div",{className:p,children:[(0,E.jsxs)("div",{className:h,children:[(0,E.jsx)("div",{className:_,children:(0,E.jsx)(q.A,{currentPage:"Add Recipe"})}),(0,E.jsxs)("div",{className:u,children:[(0,E.jsx)(U.A,{text:"add recipe"}),(0,E.jsx)(T,{text:"Reveal your culinary art, share your favorite recipe and create gastronomic masterpieces with us."})]})]}),(0,E.jsx)("form",{onSubmit:B((async e=>{try{const r=await O((0,je.zs)({title:e.title,instructions:e.instructions,description:e.description,time:V.toString(),categoryId:e.category,areaId:e.area,thumb:e.thumb,ingredients:ae.map((e=>({id:e.id,measure:e.measure})))}));if(r.payload&&r.payload.title){const e=r.payload.title;o.oR.success(`Recipe added: ${e}`),F(`/user/${r.payload.user.id}`),k()}else o.oR.error("Failed to create recipe: No payload in response")}catch(r){o.oR.error(`Error creating recipe: ${r}`)}})),className:x,children:(0,E.jsxs)("div",{className:g,children:[(0,E.jsx)(re,{register:e,setValue:r,imagePreview:H,setImagePreview:J,watch:t,errors:c}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{className:v,children:[(0,E.jsx)(Q,{register:e,type:"text",name:"title",placeholder:"The name of the recipe",classname:j}),c.title&&(0,E.jsx)("p",{className:b,children:c.title.message})]}),(0,E.jsx)("div",{className:S,children:(0,E.jsx)("div",{className:$,children:(0,E.jsxs)("div",{className:S,children:[(0,E.jsx)(oe,{register:e,ingredients:X,categories:K,areas:te,time:V,setTime:L,setValue:r,selectedIngredients:ae,setSelectedIngredients:ne,watch:t,errors:c}),c.selectedIngredients&&(0,E.jsx)("p",{className:y,children:c.selectedIngredients.message})]})})}),(0,E.jsxs)("div",{className:R,children:[(0,E.jsx)("h2",{className:m,children:"Recipe preparation"}),(0,E.jsxs)("div",{className:`${N} ${de.form__group} ${de.field}`,children:[(0,E.jsx)("textarea",{...e("instructions"),onInput:e=>{const r=e.target.value.trim().split(/\s+/).filter((e=>e.length>0));if(r.length<=Y)z(r.length);else{const t=r.slice(0,Y).join(" ");e.target.value=t,z(Y),o.oR.error("max length 200 words")}},id:"instructions",name:"instructions",placeholder:"Enter recipe",maxLength:"none",className:`${I} ${de.form__field}`}),(0,E.jsx)("label",{className:`${f} ${de.form__label}`,children:"Enter recipe"}),(0,E.jsxs)("span",{className:A,children:[P,"/",Y]}),c.instructions&&(0,E.jsx)("p",{className:y,children:c.instructions.message})]})]}),(0,E.jsx)("div",{className:w,children:D?(0,E.jsx)(be.A,{}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(ie.A,{iconId:"icon-trash",type:"button",onClick:()=>{k(),L(10),J(null),ne([])},width:"20",height:"20",style:M,styleSVG:W})," ",(0,E.jsx)(se.A,{text:"Publish",type:"submit",className:C})]})})]})]})})]})}},2614:(e,r,t)=>{t.d(r,{d:()=>s});const s=e=>e.areas.areas},2932:(e,r,t)=>{t.d(r,{J:()=>s});const s=e=>e.categories.categories},5666:(e,r,t)=>{t.d(r,{v:()=>s});const s=e=>e.ingredients.ingredients},7606:(e,r,t)=>{t.d(r,{BS:()=>l,Nd:()=>a,R4:()=>o,TV:()=>i,aA:()=>n,dB:()=>s,hS:()=>p,ie:()=>c,ou:()=>_,xH:()=>d,z5:()=>m});const s=e=>e.recipes.selectedRecipe,i=e=>e.recipes.isLoading,a=e=>e.recipes.isError,n=e=>e.recipes.favoriteRecipes,l=e=>e.recipes.recipes,c=e=>e.recipes.myFavorites,d=e=>e.recipes.isLoadingFavorite,o=e=>e.recipes.isErrorFavorite,p=e=>e.recipes.recipeCreate.isLoading,m=e=>e.recipes.popularRecipes,_=e=>e.recipes.queryRecipes.result}}]);
//# sourceMappingURL=110.471f9f59.chunk.js.map